<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-size: 16px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        button {
            padding: 15px 30px;
            font-size: 18px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            margin: 10px 5px;
        }
    </style>
</head>
<body>
    <h1>üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Life Organizer</h1>
    
    <div id="results"></div>
    
    <button onclick="runTests()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>
    <button onclick="openApp()">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>

    <script>
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = 'status ' + type;
            div.textContent = message;
            document.getElementById('results').appendChild(div);
        }

        function runTests() {
            document.getElementById('results').innerHTML = '';
            
            log('–ù–∞—á–∞–ª–æ –ø—Ä–æ–≤–µ—Ä–∫–∏...', 'info');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
            fetch('app.js')
                .then(response => {
                    if (response.ok) {
                        log('‚úÖ app.js –Ω–∞–π–¥–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω', 'success');
                        return fetch('styles.css');
                    } else {
                        throw new Error('app.js –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    }
                })
                .then(response => {
                    if (response.ok) {
                        log('‚úÖ styles.css –Ω–∞–π–¥–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω', 'success');
                    } else {
                        throw new Error('styles.css –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    }
                })
                .catch(err => {
                    log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤: ' + err.message, 'error');
                    log('üí° –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ', 'info');
                });

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: IndexedDB
            if ('indexedDB' in window) {
                log('‚úÖ IndexedDB –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è', 'success');
            } else {
                log('‚ùå IndexedDB –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è', 'error');
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: LocalStorage
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                log('‚úÖ LocalStorage —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
            } catch (e) {
                log('‚ùå LocalStorage –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–∂–∏–º)', 'error');
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: Service Worker
            if ('serviceWorker' in navigator) {
                log('‚úÖ Service Worker –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è', 'success');
            } else {
                log('‚ö†Ô∏è Service Worker –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (–Ω—É–∂–µ–Ω HTTPS)', 'info');
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –ë—Ä–∞—É–∑–µ—Ä
            log('‚ÑπÔ∏è User Agent: ' + navigator.userAgent, 'info');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ 6: –ü—Ä–æ—Ç–æ–∫–æ–ª
            log('‚ÑπÔ∏è –ü—Ä–æ—Ç–æ–∫–æ–ª: ' + window.location.protocol, 'info');
            if (window.location.protocol === 'file:') {
                log('‚ö†Ô∏è –û—Ç–∫—Ä—ã—Ç–æ —á–µ—Ä–µ–∑ file:// - –∑–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ª—É—á—à–µ–π —Ä–∞–±–æ—Ç—ã', 'info');
            }
        }

        function openApp() {
            window.location.href = 'index.html';
        }

        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            setTimeout(runTests, 500);
        });
    </script>
</body>
</html>
